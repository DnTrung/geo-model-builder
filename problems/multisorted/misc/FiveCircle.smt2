(joint (P0 P1 P2 P3 P4) (polygon P0 P1 P2 P3 P4))

(compute Q1 (interLL (line P0 P1) (line P2 P3)))
(compute Q2 (interLL (line P1 P2) (line P3 P4)))
(compute Q3 (interLL (line P2 P3) (line P4 P0)))
(compute Q4 (interLL (line P3 P4) (line P0 P1)))
(compute Q0 (interLL (line P4 P0) (line P1 P2)))

(compute M1 (interCC (circ Q0 P0 P1) (circ Q1 P1 P2) (rsNeq P1)))
(compute M2 (interCC (circ Q1 P1 P2) (circ Q2 P2 P3) (rsNeq P2)))
(compute M3 (interCC (circ Q2 P2 P3) (circ Q3 P3 P4) (rsNeq P3)))
(compute M4 (interCC (circ Q3 P3 P4) (circ Q4 P4 P0) (rsNeq P4)))
(compute M0 (interCC (circ Q4 P4 P0) (circ Q0 P0 P1) (rsNeq P0)))


(watch fcp0 (onC M0 (circ Q4 P4 P0)))
(watch fcp1 (onL Q2 (line P1 P2)))
(watch fcp2 (onC M3 (circ Q2 P2 P3)))
(watch fcp3 (onC M2 (circ Q2 P2 P3)))
(watch fcp4 (= (angle4 Q2 M2 M2 M3) (angle4 Q2 P2 P2 M3)))
(watch fcp5 (= (angle4 Q2 M2 M2 M3) (angle4 Q2 P3 P3 M3)))
(watch fcp6 (onL Q2 (line P3 P4)))
(watch fcp7 (onC M3 (circ Q3 P3 P4)))
(watch fcp8 (= (angle4 P4 P3 P3 M3) (angle4 P4 Q3 Q3 M3)))
(watch fcp9 (= Q3 (interLL (line Q3 P2) (line P4 P0))))
(watch fcp10 (onL Q3 (line P0 P4)))
(watch fcp11pre3 (no3coll Q0 P2 Q3 M3))
(watch fcp11pre2 (onC M3 (circ Q0 P2 Q3)))
;; (assert (onC M3 (circ Q0 P2 Q3)))
(watch fcp11pre (eqangle Q0 P2 P2 M3 Q0 Q3 Q3 M3))
(watch fcp11 (onC Q0 (circ P2 Q3 M3)))

(watch fcp12 (= Q0 (interLL (line P4 P0) (line P1 P2))))
(watch fcp13 (onL Q0 (line P0 P4)))
(watch fcp14 (onC M1 (circ Q0 P0 P1)))
(watch fcp15 (= (angle4 P0 P1 P1 M1) (angle4 P0 Q0 Q0 M1)))
(watch fcp16 (= Q1 (interLL (line P0 P1) (line P2 P3))))
(watch fcp17 (onL Q2 (line P0 P1)))
(watch fcp18 (onC M1 (circ Q1 P1 P2)))
(watch fcp19 (= (angle4 Q1 P2 P2 M1) (angle4 Q1 P1 P1 M4)))
(watch fcp20 (onL Q1 (line P2 P3)))
(watch fcp21 (onC Q3 (circ Q0 P2 M1)))
(watch fcp22 (= (angle4 Q0 Q3 Q3 M3) (angle4 Q0 M1 M1 M3)))
(watch fcp23 (onC M4 (circ Q3 P3 P4)))
(watch fcp24 (= (angle4 P4 M4 M4 M3) (angle4 P4 Q3 Q3 M3)))
(watch fcp25pre3 (eqangle Q0 Q3 Q3 M3 P4 Q3 Q3 M3))
(watch fcp25pre2 (= (angle4 P4 Q3 Q3 M3) (angle4 Q0 M1 M1 M3)))
(watch fcp25pre (= (angle4 M1 Q0 M1 M3) (angle4 M4 P4 M3 M4)))
(watch fcp25 (= (angle4 M1 Q0 M4 P4) (angle4 M1 M3 M3 M4)))

;; (watch C_M3 (onC M3 (circ P4 Q0 Q2)))
;; (watch C_M4 (onC M4 (circ P0 Q1 Q3)))
;; (watch C_M0 (onC M0 (circ P1 Q2 Q4)))
;; (watch C_M1 (onC M1 (circ P2 Q3 Q0)))
;; (watch C_M2 (onC M2 (circ P3 Q4 Q1)))

(prove (and (onC M3 (circ M0 M1 M2)) (onC M4 (circ M0 M1 M2))))
